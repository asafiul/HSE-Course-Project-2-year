{"extraResources":{"example.01.mu":"TVXzAWJiDQphYQ0KYmJhDQpiYWENCg==","example.02.mu":"TVXzAWFjYWINCmJhYmFjDQphYmJiDQphYmJhYmENCg==","example.03.mu":"TVXzAWFiYg0KYmJiDQpiYWENCmNiYw0K"},"scoring":null,"notes":"","legend":"Вам даны четыре различных слова. Из них необходимо составить кроссворд с двумя горизонтальными и двумя вертикальными словами так, чтобы выполнялись следующие условия:\n\n\\begin{itemize}\n\\item \\textbf{Каждое} горизонтальное слово пересекается с \\textbf{каждым} вертикальным;\n\\item Горизонтальные слова располагаются в разных строках;\n\\item Вертикальные слова располагаются в разных столбцах;\n\\item Все слова должны быть использованы ровно \\textbf{один} раз;\n\\item Горизонтальные слова в кроссворде читаются слева направо, вертикальные~--- сверху вниз.\n\\end{itemize}\n\nДля лучшего понимания задачи смотрите примеры.","authorLogin":"asafiul","language":"russian","timeLimit":1000,"output":"В первой строке выведите <<\\texttt{Yes}>>, если возможно составить кроссворд, удовлетворяющий требованиям из условия, или <<\\texttt{No}>> в противном случае.\n\nЕсли составить кроссворд возможно, выведите его в виде сетки $18 \\times 18$. В пустые ячейки следует записывать символ <<\\texttt{.}>> (точка), в непустые~--- строчные латинские буквы.\n\nЕсли существует несколько возможных кроссвордов, выведите любой.","inputFile":"stdin","outputFile":"stdout","input":"В четырех строках записаны четыре различных слова $s_1$, $s_2$, $s_3$, $s_4$ ($2 \\le \\lvert s_i \\rvert \\le 10$). Каждое слово состоит из строчных букв латинского алфавита.","authorName":"Azat Safiullin","sampleTests":[{"output":"Yes\nbb................\nba................\naa................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n","input":"bb\naa\nbba\nbaa\n","inputFile":"example.01","outputFile":"example.01.a"},{"output":"Yes\n..................\n..................\n..................\n........b.........\n........a.a.......\n......abbaba......\n........a.b.......\n.......acab.......\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................","input":"acab\nbabac\nabbb\nabbaba\n","inputFile":"example.02","outputFile":"example.02.a"},{"output":"No\n","input":"abb\nbbb\nbaa\ncbc\n","inputFile":"example.03","outputFile":"example.03.a"}],"name":"Кроссворд","interaction":null,"memoryLimit":268435456,"tutorial":"\\medskip\n\\textit{Авторы задачи: Азат Сафиуллин и Михаил Густокашин, разработка: Азат Сафиуллин}\n\\medskip\n\nДанная задача может быть решена при помощи полного перебора. Для начала переберем, какое слово будет верхним, нижним, левым и правым. Всего существует $24$ возможных варианта. Далее для каждого варианта проверим, можно ли построить кроссворд.\n\nДля того чтобы выполнить проверку, можно перебрать в каждом слове позиции $i$ и $j$ ($i < j$), в которых данное слово будет пересекаться с двумя другими. После этого необходимо проверить, совпадают ли символы на пересечении слов, а также совпадают ли длины противоположных сторон <<прямоугольника>>, который образуется в центре кроссворда. Данную проверку можно выполнить за $\\mathcal{O}(n^8)$, где $n = \\max\\limits_{i=1}^{4} \\lvert s_i \\rvert$.\n\nТаким образом, получаем решение за $\\mathcal{O}(n^8)$ с константой порядка $24$. Данное решение может уложиться в ограничение при аккуратной реализации.\n\nТакже решение можно легко ускорить и получить оценку $\\mathcal{O}(n^6)$ с константой порядка $24$, если для нижнего и правого слов перебирать только одну позицию (вторая позиция вычисляется по простой формуле, так как известна первая позиция и длина стороны <<прямоугольника>>)."}